# 学習ノート 2026/01/15

## 作業ログまとめ
- `java_blackbook/Chapter2_2_once` に 16〜30 を追記し、その後に正誤・回答を記録
- `README.md` を現状のフォルダ構成に合わせて更新
- 学習目標に「App Development & DB Design（2/9 - 3/8）」の詳細を追加
- `git add` の **LF/CRLF 警告**はエラーではなく正常にステージングされることを確認
- `git commit` 時の **コミットメッセージ入力画面**について操作手順を確認
  - Vim / nano / VS Code の保存・終了方法
  - `Esc` が効かない場合は `Ctrl + [` を使用

## 学習メモ：配列とメモリの関係（初心者向けまとめ）
- `int[] scores = new int[5];` を実行すると、**intが入る箱が5個、連続して並ぶ配列**が作られる
- `scores` は配列そのものではなく、**配列の先頭要素を指す参照（先頭の住所）**を持つ
- 配列は連続配置のため、**先頭の住所 + (要素番号 × 要素サイズ)** で位置が計算できる
- そのため、先頭だけを持っていても `scores[0]`〜`scores[4]` を取り出せる

### 図イメージ（概念図）
```
scores  ──▶  [0]   [1]   [2]   [3]   [4]
             |     |     |     |     |
           4B    4B    4B    4B    4B
```

### アドレス計算の例
```
先頭アドレス = 1000
scores[0] → 1000
scores[1] → 1000 + 4 = 1004
scores[2] → 1000 + 8 = 1008
scores[3] → 1000 + 12 = 1012
scores[4] → 1000 + 16 = 1016
```

※ Javaでは「参照変数が先頭アドレスを持つ」という説明で理解してOK。内部管理はJVMが行う。

## 学習メモ：printlnとtoString、ハッシュ値
- `System.out.println(x)` は **x を文字列として表示**する
- 引数がオブジェクト参照なら **内部で `x.toString()` が呼ばれる**
- 配列もオブジェクトなので、配列参照を渡すと **配列の `toString()` が呼ばれる**
- ただし配列クラスは **`Object` の `toString()` をそのまま使用**するため、**配列の中身ではなく識別情報**が表示される

### 例
```java
int[] array = new int[0];
System.out.println(array);
```

出力は `"[I@1a2b3c4d"` のような形式になる（実際の値は環境で変わる）。

### `Object.toString()` のイメージ
`クラス名@ハッシュ値` の形式。配列の場合 `"[I"` が int 配列を意味する。

### ハッシュ値とは
- **データから計算される短い識別用の値**
- **区別のための目印**として使えるが、**完全に一意ではない（衝突する可能性あり）**
- 配列の `hashCode()` は **中身ではなく参照そのもの**を元に計算される

### 配列の中身を表示したい場合
```java
System.out.println(java.util.Arrays.toString(array));
```

## 追加メモ：配列の中身が出ない理由と表示方法（詳細）
### なぜ `println(array)` で中身が出ないのか
`System.out.println(x)` は、渡された `x` を **文字列に変換してから表示**します。  
この変換のルールは「`x` がオブジェクトなら `x.toString()` を呼ぶ」というものです。  
配列もオブジェクトなので `println(array)` と書くと、内部で **`array.toString()` が呼ばれます**。

ところが **配列は `toString()` を自分で上書きしていません**。  
そのため、配列が使うのは `Object` クラスの `toString()` です。  
`Object.toString()` が返すのは **「クラス名@ハッシュ値」** という形式の文字列で、  
**配列の中身を表示する仕組みはありません**。

### どうすれば中身が見えるのか
配列の中身を表示したいときは、  
`Arrays.toString(array)` を使います。  
これは **配列の要素を1つずつ取り出して、文字列として並べる**処理をしてくれるメソッドです。  
その結果、実際の中身が `[1, 2, 3]` のような形で表示されます。

### 具体例
```java
int[] array = {1, 2, 3};
System.out.println(array);                  // [I@1a2b3c4d (中身は出ない)
System.out.println(Arrays.toString(array)); // [1, 2, 3] (中身が出る)
```

1行目は **`array.toString()` が呼ばれているだけ**なので、  
`[I@...` のような「配列オブジェクトの識別情報」しか出ません。  
2行目は **配列の各要素を並べて文字列化**しているので、  
実際の中身が見える表示になります。

### イメージ（たとえ）
`println(array)` は、  
**「箱に貼られたラベルだけ見て終わる」**イメージです。  
ラベルには「これは int 配列で、識別番号はこれ」という情報しかありません。

一方で `Arrays.toString(array)` は、  
**「箱を開けて、中に入っているものを全部取り出して並べる」**イメージです。  
だから中身がそのまま表示されます。